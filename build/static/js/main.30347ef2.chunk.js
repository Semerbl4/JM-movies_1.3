(this["webpackJsonpmovies-app"]=this["webpackJsonpmovies-app"]||[]).push([[0],{81:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a(0),s=a.n(r),c=a(20),i=a.n(c),o=a(30),l=a(36),u=a(47),v=a(46),h=(a(81),a(82),a(100)),j=a(99),p=a(52),d=a.n(p),g=a(60),m=function e(){Object(o.a)(this,e),this.getMovies=function(){var e=Object(g.a)(d.a.mark((function e(t){var a,n,r,s=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:null,n=a,n=a?"&page=".concat(a):"",e.next=5,fetch("https://api.themoviedb.org/3/search/movie?api_key=c33f54366ccf34ec81775c2d46bea63e&query=".concat(t).concat(n));case 5:if(!(r=e.sent).ok){e.next=11;break}return e.next=9,r.json();case 9:return r=e.sent,e.abrupt("return",r);case 11:throw new Error(r.status);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},b=(a(83),function(){return Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:"Search"}),Object(n.jsx)("li",{children:"Rated"})]})}),f=(a(84),a(61)),O=function(e){Object(u.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).moviesApiService=new m,e.state={value:""},e.changedInput=function(t){e.setState({value:t.target.value})},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this.props.currentPage,n=this.state.value,r=this.props.changeMovies;t.value===n&&e.currentPage===a||""===n||r(n,a)}},{key:"render",value:function(){var e=this;return Object(n.jsx)("input",{type:"text",placeholder:"Type to search...",onChange:Object(f.debounce)((function(t){e.changedInput(t)}),1e3)})}}]),a}(s.a.Component);O.defaultProps={changeMovies:function(){},currentPage:1};var x=O,_=(a(86),a(102)),w=(a(87),function(e){var t=e.title,a=e.poster,r=e.releaseDate,s=e.rating,c=e.overview.split(" ").slice(0,34);c.push("...");var i;return Object(n.jsxs)("div",{className:"movie-card",children:[Object(n.jsx)("img",{className:"movie-card__poster",src:(i=a,null===a?null:"https://image.tmdb.org/t/p/w500".concat(i)),alt:"\u041f\u043e\u0441\u0442\u0435\u0440"}),Object(n.jsxs)("div",{className:"movie-card__information",children:[Object(n.jsx)("h5",{className:"movie-card__title",children:t}),Object(n.jsx)("div",{className:"movie-card__raiting",children:Object(n.jsx)("p",{children:s})}),Object(n.jsx)("p",{className:"movie-card__date",children:r}),Object(n.jsxs)("ul",{className:"mivie-card__categorys-list",type:"none",children:[Object(n.jsx)("li",{className:"movie-card__category",children:"\u0414\u0440\u0430\u043c\u0430"}),Object(n.jsx)("li",{className:"movie-card__category",children:"\u0414\u0440\u0430\u043c\u0430"})]}),Object(n.jsx)("p",{className:"movie-card__overview",children:c.join(" ")})]})]})});w.defaultProps={releaseDate:"\u0414\u0430\u0442\u0430 \u0440\u0435\u043b\u0438\u0437\u0430 \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430",rating:0,overview:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442",poster:null};var y=w,P=function(e){var t=e.movies;return e.loading?Object(n.jsx)(_.a,{size:"large",className:"spin_scale"}):Object(n.jsx)("ul",{className:"movies-list",type:"none",children:t?t.map((function(e){return Object(n.jsx)("li",{className:"movie-list__item",children:Object(n.jsx)(y,{title:e.original_title,overview:e.overview,poster:e.poster_path,releaseDate:e.release_date,rating:e.vote_average})},e.id)})):null})};P.defaultProps={movies:null,loading:!1};var N=P,S=function(e){Object(u.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).moviesApiServise=new m,e.state={movies:null,loading:!1,error:!1,totalPages:null,currentPage:1},e.online=window.navigator.onLine,e.changeMovies=function(t,a){e.setState((function(e){return{loading:!e.loading,totalPages:null}})),e.moviesApiServise.getMovies(t,a).then((function(t){e.setState((function(e){return{movies:t.results,loading:!e.loading,totalPages:t.total_pages}}))})).catch((function(t){e.setState({error:t.message})}))},e.setCurrentPage=function(t){e.setState({currentPage:t})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state.movies,a=this.state.loading,r=this.state.error,s=this.state.totalPages,c=this.state.currentPage;return this.online?Object(n.jsxs)("main",{className:"app",children:[Object(n.jsx)(b,{}),Object(n.jsx)(x,{changeMovies:this.changeMovies,currentPage:c}),r?Object(n.jsx)(h.a,{message:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 ".concat(r),type:"error"}):Object(n.jsx)(N,{movies:t,loading:a}),!a&&t?Object(n.jsx)(j.a,{className:"pagination",defaultCurrent:c,total:10*s,showSizeChanger:!1,onChange:function(t){e.setCurrentPage(t)}}):null]}):Object(n.jsx)(h.a,{type:"warning",message:"\u0412\u0430\u0448 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442 \u043f\u0440\u0438\u043a\u0430\u0437\u0430\u043b \u0434\u043e\u043b\u0433\u043e \u0436\u0438\u0442\u044c (\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441\u0435\u0442\u0438)"})}}]),a}(s.a.Component);i.a.render(Object(n.jsx)(S,{}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.30347ef2.chunk.js.map